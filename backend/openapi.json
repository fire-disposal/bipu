{
  "openapi": "3.1.0",
  "info": {
    "title": "bipupu",
    "description": "BIPUPU API 服务",
    "version": "0.2.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "系统健康检查",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "summary": "Readiness Check",
        "description": "就绪检查端点",
        "operationId": "readiness_check_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/live": {
      "get": {
        "summary": "Liveness Check",
        "description": "存活检查端点",
        "operationId": "liveness_check_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "根路径 - 返回API信息",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Health Check",
        "description": "系统健康检查",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/ready": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Readiness Check",
        "description": "就绪检查端点",
        "operationId": "readiness_check_api_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/live": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Liveness Check",
        "description": "存活检查端点",
        "operationId": "liveness_check_api_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Root",
        "description": "根路径 - 返回API信息",
        "operationId": "root_api__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/register": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Register User",
        "description": "用户注册\n\n参数：\n- username: 用户名，用于登录\n- password: 密码，长度限制为6-128字符\n- nickname: 昵称，可选\n\n返回：\n- 成功：返回新创建的用户信息\n- 失败：400（验证失败）或500（数据库操作失败）\n\n特性：\n- 密码自动哈希存储\n- 自动生成唯一的 bipupu_id\n- 验证用户名和密码格式\n\n注意：\n- 用户名必须是唯一的\n- 密码在传输和存储中都会加密\n- 注册后用户自动处于活跃状态",
        "operationId": "register_user_api_public_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPrivate"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/login": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Login User",
        "description": "用户登录\n\n参数：\n- username: 用户名\n- password: 密码\n\n返回：\n- 成功：返回访问令牌和刷新令牌\n- 失败：401（认证失败）或400（验证失败）\n\n特性：\n- 支持JWT令牌\n- 令牌有过期时间\n- 支持刷新令牌机制\n\n注意：\n- 只允许活跃用户登录\n- 令牌存储在安全的地方",
        "operationId": "login_user_api_public_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/refresh": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Refresh Token",
        "description": "刷新访问令牌\n\n参数：\n- refresh_token: 刷新令牌\n\n返回：\n- 成功：返回新的访问令牌和刷新令牌\n- 失败：401（令牌无效或过期）或400（验证失败）\n\n特性：\n- 使用刷新令牌获取新的访问令牌\n- 刷新令牌可以轮换\n- 支持令牌黑名单\n\n注意：\n- 刷新令牌只能使用一次\n- 旧的刷新令牌会被加入黑名单",
        "operationId": "refresh_token_api_public_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenRefresh"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Logout User",
        "description": "用户登出\n\n参数：\n- Authorization: Bearer令牌\n\n返回：\n- 成功：返回登出成功消息\n- 失败：401（认证失败）\n\n特性：\n- 将访问令牌加入黑名单\n- 支持立即令牌失效\n\n注意：\n- 登出后令牌立即失效\n- 需要有效的访问令牌",
        "operationId": "logout_user_api_public_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/public/verify-token": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Verify Token",
        "description": "验证令牌有效性\n\n参数：\n- Authorization: Bearer令牌\n\n返回：\n- 成功：返回验证成功消息\n- 失败：401（令牌无效）\n\n特性：\n- 快速令牌验证\n- 不执行数据库查询\n\n注意：\n- 只验证令牌格式和签名\n- 不检查用户状态",
        "operationId": "verify_token_api_public_verify_token_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/messages/": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "Send Message",
        "description": "发送消息\n\n支持：\n- 用户间传讯（receiver_id 为用户的 bipupu_id）\n- 向服务号发送消息（receiver_id 为服务号 ID）\n\n参数：\n- receiver_id: 接收者ID\n- content: 消息内容（1-5000字符）\n- message_type: 消息类型（NORMAL, VOICE, SYSTEM）\n- pattern: 扩展模式数据（可选）\n- waveform: 音频波形数据（可选，0-255整数数组，最多128个点）\n\n返回：\n- 成功：返回创建的消息\n- 失败：400（参数错误）或404（接收者不存在）",
        "operationId": "send_message_api_messages__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get Messages",
        "description": "获取消息列表\n\n参数：\n- direction: sent（发件箱）或 received（收件箱）\n- page: 页码（从1开始）\n- page_size: 每页数量（1-100）\n\n返回：\n- 成功：返回消息列表\n- 失败：400（参数错误）",
        "operationId": "get_messages_api_messages__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "direction",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "sent 或 received",
              "default": "received",
              "title": "Direction"
            },
            "description": "sent 或 received"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/poll": {
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Poll Messages",
        "description": "长轮询接口：\n如果数据库有比 last_msg_id 更新的消息，立即返回。\n如果没有，则异步等待直到有新消息或超时。\n\n参数：\n- last_msg_id: 最后收到的消息ID\n- timeout: 轮询超时时间（1-120秒）\n\n返回：\n- 成功：返回新消息列表和是否有更多消息的标志\n- 失败：400（参数错误）",
        "operationId": "poll_messages_api_messages_poll_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "last_msg_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "最后收到的消息ID",
              "default": 0,
              "title": "Last Msg Id"
            },
            "description": "最后收到的消息ID"
          },
          {
            "name": "timeout",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 120,
              "minimum": 1,
              "description": "轮询超时时间（秒）",
              "default": 30,
              "title": "Timeout"
            },
            "description": "轮询超时时间（秒）"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessagePollResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/favorites": {
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "Get Favorites",
        "description": "获取收藏消息列表\n\n参数：\n- page: 页码（从1开始）\n- page_size: 每页数量（1-100）\n\n返回：\n- 成功：返回收藏消息列表\n- 失败：400（参数错误）",
        "operationId": "get_favorites_api_messages_favorites_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/{message_id}/favorite": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "Add Favorite",
        "description": "收藏消息\n\n参数：\n- message_id: 消息ID\n- note: 备注（可选，最多200字符）\n\n返回：\n- 成功：返回创建的收藏\n- 失败：404（消息不存在）或409（已收藏）",
        "operationId": "add_favorite_api_messages__message_id__favorite_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FavoriteCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "messages"
        ],
        "summary": "Remove Favorite",
        "description": "取消收藏消息\n\n参数：\n- message_id: 消息ID\n\n返回：\n- 成功：204 No Content\n- 失败：404（收藏不存在）",
        "operationId": "remove_favorite_api_messages__message_id__favorite_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/{message_id}": {
      "delete": {
        "tags": [
          "messages"
        ],
        "summary": "Delete Message",
        "description": "删除消息（仅限发送者）\n\n参数：\n- message_id: 消息ID\n\n返回：\n- 成功：204 No Content\n- 失败：404（消息不存在）或403（无权限）",
        "operationId": "delete_message_api_messages__message_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/": {
      "post": {
        "tags": [
          "blacklist"
        ],
        "summary": "Block User",
        "description": "拉黑用户\n\n参数：\n- bipupu_id: 要拉黑的用户ID\n\n返回：\n- 成功：返回成功消息\n- 失败：400（参数错误）或404（用户不存在）或409（已拉黑）",
        "operationId": "block_user_api_blocks__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BlockUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "blacklist"
        ],
        "summary": "Get Blocked Users",
        "description": "获取黑名单列表\n\n参数：\n- page: 页码（从1开始）\n- size: 每页数量（1-100）\n\n返回：\n- 成功：返回黑名单用户列表\n- 失败：400（参数错误）",
        "operationId": "get_blocked_users_api_blocks__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页数量",
              "default": 20,
              "title": "Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_BlockedUserResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/{bipupu_id}": {
      "delete": {
        "tags": [
          "blacklist"
        ],
        "summary": "Unblock User",
        "description": "取消拉黑用户\n\n参数：\n- bipupu_id: 要取消拉黑的用户ID\n\n返回：\n- 成功：返回成功消息\n- 失败：404（未拉黑该用户）",
        "operationId": "unblock_user_api_blocks__bipupu_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/check/{bipupu_id}": {
      "get": {
        "tags": [
          "blacklist"
        ],
        "summary": "Check Block Status",
        "description": "检查用户是否被拉黑\n\n参数：\n- bipupu_id: 要检查的用户ID\n\n返回：\n- 成功：返回检查结果\n- 失败：404（用户不存在）",
        "operationId": "check_block_status_api_blocks_check__bipupu_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Check Block Status Api Blocks Check  Bipupu Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/search": {
      "get": {
        "tags": [
          "blacklist"
        ],
        "summary": "Search Blocked Users",
        "description": "搜索黑名单用户\n\n参数：\n- query: 搜索关键词\n- limit: 返回结果数量（1-50）\n\n返回：\n- 成功：返回匹配的黑名单用户列表\n- 失败：400（参数错误）",
        "operationId": "search_blocked_users_api_blocks_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "搜索关键词（用户名或昵称）",
              "title": "Query"
            },
            "description": "搜索关键词（用户名或昵称）"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "返回结果数量",
              "default": 10,
              "title": "Limit"
            },
            "description": "返回结果数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BlockedUserResponse"
                  },
                  "title": "Response Search Blocked Users Api Blocks Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/count": {
      "get": {
        "tags": [
          "blacklist"
        ],
        "summary": "Get Blocked Users Count",
        "description": "获取黑名单用户数量\n\n返回：\n- 成功：返回黑名单用户数量",
        "operationId": "get_blocked_users_count_api_blocks_count_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/avatar": {
      "post": {
        "tags": [
          "user-profile"
        ],
        "summary": "Upload Avatar",
        "description": "上传并更新用户头像",
        "operationId": "upload_avatar_api_profile_avatar_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_avatar_api_profile_avatar_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPrivate"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/me": {
      "get": {
        "tags": [
          "user-profile"
        ],
        "summary": "Get Current User Info",
        "description": "获取当前用户信息",
        "operationId": "get_current_user_info_api_profile_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPrivate"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/": {
      "get": {
        "tags": [
          "user-profile"
        ],
        "summary": "Get Profile",
        "description": "获取个人资料（兼容性接口）",
        "operationId": "get_profile_api_profile__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPrivate"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "user-profile"
        ],
        "summary": "Update Profile",
        "description": "更新个人资料",
        "operationId": "update_profile_api_profile__put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPrivate"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/password": {
      "put": {
        "tags": [
          "user-profile"
        ],
        "summary": "Update Password",
        "description": "更新密码",
        "operationId": "update_password_api_profile_password_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPasswordUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/timezone": {
      "put": {
        "tags": [
          "user-profile"
        ],
        "summary": "Update Timezone",
        "description": "更新时区",
        "operationId": "update_timezone_api_profile_timezone_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimezoneUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/push-settings": {
      "get": {
        "tags": [
          "user-profile"
        ],
        "summary": "Get Push Settings",
        "description": "获取推送设置（兼容性接口）",
        "operationId": "get_push_settings_api_profile_push_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Push Settings Api Profile Push Settings Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/avatar/{bipupu_id}": {
      "get": {
        "tags": [
          "user-profile"
        ],
        "summary": "Get User Avatar",
        "description": "获取用户头像（公开接口）",
        "operationId": "get_user_avatar_api_profile_avatar__bipupu_id__get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/users/{bipupu_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User By Bipupu Id",
        "description": "通过 bipupu_id 获取用户公开信息\n\n参数：\n- bipupu_id: 用户的业务标识符\n\n返回：\n- 成功：返回用户公开信息\n- 失败：404（用户不存在）\n\n包含信息：\n- 用户名、昵称、bipupu_id\n- 头像URL\n- 用户状态（是否活跃）\n- 创建时间等基本信息\n\n注意：\n- 无需认证，公开接口\n- 不返回敏感信息（如邮箱、密码等）\n- 只返回 is_active=True 的用户信息",
        "operationId": "get_user_by_bipupu_id_api_users_users__bipupu_id__get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPublic"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/users/{bipupu_id}/avatar": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User Avatar By Bipupu Id",
        "description": "通过 bipupu_id 获取用户头像\n\n参数：\n- bipupu_id: 用户的业务标识符\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 头像数据缓存24小时\n- 自动处理头像版本更新\n\n返回：\n- 成功：返回JPEG格式的头像图片\n- 失败：404（用户或头像不存在）\n\n注意：\n- 无需认证，公开接口\n- 支持缓存控制头（Cache-Control, ETag）\n- 如果用户没有头像，返回404错误\n- 前端应处理无头像情况（如显示首字母）",
        "operationId": "get_user_avatar_by_bipupu_id_api_users_users__bipupu_id__avatar_get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/contacts/": {
      "get": {
        "tags": [
          "contacts"
        ],
        "summary": "Get Contacts",
        "description": "获取联系人列表\n\n参数：\n- page: 页码（从1开始）\n- page_size: 每页数量（1-100）\n\n返回：\n- 成功：返回联系人列表\n- 失败：400（参数错误）",
        "operationId": "get_contacts_api_contacts__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页数量",
              "default": 20,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "contacts"
        ],
        "summary": "Create Contact",
        "description": "添加联系人\n\n参数：\n- contact_id: 联系人用户ID\n- alias: 备注名（可选，最多50字符）\n\n返回：\n- 成功：返回创建的联系人\n- 失败：400（参数错误）或404（用户不存在）或409（已是联系人）",
        "operationId": "create_contact_api_contacts__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/contacts/{contact_id}": {
      "put": {
        "tags": [
          "contacts"
        ],
        "summary": "Update Contact",
        "description": "更新联系人备注\n\n参数：\n- contact_id: 联系人用户ID\n- alias: 新的备注名（可选，最多50字符）\n\n返回：\n- 成功：返回更新成功消息\n- 失败：404（联系人不存在）",
        "operationId": "update_contact_api_contacts__contact_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "contact_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Contact Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "contacts"
        ],
        "summary": "Delete Contact",
        "description": "删除联系人\n\n参数：\n- contact_id: 联系人用户ID\n\n返回：\n- 成功：204 No Content\n- 失败：404（联系人不存在）",
        "operationId": "delete_contact_api_contacts__contact_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "contact_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Contact Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/": {
      "get": {
        "tags": [
          "service-accounts",
          "服务号"
        ],
        "summary": "List Service Accounts",
        "description": "获取所有活跃的服务号列表\n\n参数：\n- skip: 跳过的记录数，用于分页\n- limit: 每页返回的记录数，最大100\n\n返回：\n- items: 服务号列表\n- total: 活跃服务号总数\n\n注意：只返回 is_active=True 的服务号",
        "operationId": "list_service_accounts_api_service_accounts__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountList"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}": {
      "get": {
        "tags": [
          "service-accounts",
          "服务号"
        ],
        "summary": "Get Service Account",
        "description": "获取指定服务号详情\n\n参数：\n- name: 服务号名称\n\n返回：\n- 成功：返回服务号详细信息\n- 失败：404（服务号不存在）\n\n注意：需要用户认证",
        "operationId": "get_service_account_api_service_accounts__name__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}/avatar": {
      "get": {
        "tags": [
          "service-accounts",
          "服务号"
        ],
        "summary": "Get Service Avatar",
        "description": "获取服务号头像\n\n参数：\n- name: 服务号名称\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 头像数据缓存24小时\n\n返回：\n- 成功：返回JPEG格式的头像图片\n- 失败：404（服务号或头像不存在）",
        "operationId": "get_service_avatar_api_service_accounts__name__avatar_get",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/subscriptions/": {
      "get": {
        "tags": [
          "service-accounts"
        ],
        "summary": "Get User Subscriptions",
        "description": "获取当前用户订阅的所有服务号列表\n\n返回：\n- subscriptions: 订阅的服务号列表，包含服务信息和订阅设置\n- total: 订阅的服务号总数\n\n包含信息：\n- 服务号基本信息（名称、描述、头像等）\n- 订阅设置（推送时间、启用状态、订阅时间等）\n\n注意：需要用户认证",
        "operationId": "get_user_subscriptions_api_service_accounts_subscriptions__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSubscriptionList"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/service_accounts/{name}/settings": {
      "get": {
        "tags": [
          "service-accounts"
        ],
        "summary": "Get Subscription Settings",
        "description": "获取指定服务号的订阅设置\n\n参数：\n- name: 服务号名称\n\n返回：\n- 成功：返回该服务号的订阅设置详情\n- 失败：404（服务号不存在或未订阅）\n\n包含信息：\n- 服务号基本信息\n- 推送时间设置及来源\n- 订阅启用状态\n- 订阅时间戳\n\n注意：需要用户认证且已订阅该服务号",
        "operationId": "get_subscription_settings_api_service_accounts__name__settings_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "service-accounts"
        ],
        "summary": "Update Subscription Settings",
        "description": "更新服务号订阅设置\n\n参数：\n- name: 服务号名称\n- push_time: 推送时间（HH:MM格式），可选\n- is_enabled: 是否启用推送，可选\n\n返回：\n- 成功：返回更新后的订阅设置\n- 失败：404（服务号不存在或未订阅）或400（时间格式无效）\n\n注意：\n- 需要用户认证且已订阅该服务号\n- 推送时间格式必须为 HH:MM（24小时制）\n- 如果只更新部分字段，其他字段保持不变\n- 设置 push_time=null 可清除个人化设置，恢复使用默认时间",
        "operationId": "update_subscription_settings_api_service_accounts__name__settings_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubscriptionSettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}/subscribe": {
      "post": {
        "tags": [
          "service-accounts"
        ],
        "summary": "Subscribe Service Account",
        "description": "订阅服务号\n\n参数：\n- name: 要订阅的服务号名称\n- push_time: 初始推送时间（HH:MM格式），可选\n- is_enabled: 初始启用状态，可选，默认为True\n\n返回：\n- 成功：返回订阅成功信息\n- 失败：404（服务号不存在）或400（已订阅）或500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 只能订阅 is_active=True 的服务号\n- 推送时间格式必须为 HH:MM（24小时制）\n- 如果未提供推送时间，使用服务号默认推送时间",
        "operationId": "subscribe_service_account_api_service_accounts__name__subscribe_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/SubscriptionSettingsUpdate"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Settings Update"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "service-accounts"
        ],
        "summary": "Unsubscribe Service Account",
        "description": "取消订阅服务号\n\n参数：\n- name: 要取消订阅的服务号名称\n\n返回：\n- 成功：返回取消订阅成功信息\n- 失败：404（服务号不存在）或400（未订阅）或500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 取消订阅后，该服务号的推送将停止\n- 订阅记录将被删除，相关设置不会保留",
        "operationId": "unsubscribe_service_account_api_service_accounts__name__subscribe_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/": {
      "get": {
        "tags": [
          "posters"
        ],
        "summary": "Get Posters",
        "description": "获取海报列表（管理用）",
        "operationId": "get_posters_api_posters__get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页数量",
              "default": 20,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "posters"
        ],
        "summary": "Create Poster",
        "description": "创建海报",
        "operationId": "create_poster_api_posters__post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_poster_api_posters__post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/active": {
      "get": {
        "tags": [
          "posters"
        ],
        "summary": "Get Active Posters",
        "description": "获取激活的海报列表（前端轮播用）",
        "operationId": "get_active_posters_api_posters_active_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 20,
              "minimum": 1,
              "description": "返回数量",
              "default": 10,
              "title": "Limit"
            },
            "description": "返回数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PosterResponse"
                  },
                  "title": "Response Get Active Posters Api Posters Active Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/{poster_id}": {
      "get": {
        "tags": [
          "posters"
        ],
        "summary": "Get Poster",
        "description": "获取单个海报详情",
        "operationId": "get_poster_api_posters__poster_id__get",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "posters"
        ],
        "summary": "Update Poster",
        "description": "更新海报信息",
        "operationId": "update_poster_api_posters__poster_id__put",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PosterUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "posters"
        ],
        "summary": "Delete Poster",
        "description": "删除海报",
        "operationId": "delete_poster_api_posters__poster_id__delete",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/{poster_id}/image": {
      "get": {
        "tags": [
          "posters"
        ],
        "summary": "Get Poster Image",
        "description": "获取海报图片（二进制格式，直接用于img标签）\n\n参数：\n- poster_id: 海报ID\n\n返回：\n- 成功：返回JPEG格式的二进制图片数据\n- 失败：404（海报或图片不存在）\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 图片数据缓存24小时\n- 自动处理图片版本更新\n\n注意：\n- 无需认证，公开接口\n- 支持缓存控制头（Cache-Control, ETag）\n- 统一返回JPEG格式二进制数据\n- 前端可直接用于img标签的src属性",
        "operationId": "get_poster_image_api_posters__poster_id__image_get",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "posters"
        ],
        "summary": "Update Poster Image",
        "description": "更新海报图片",
        "operationId": "update_poster_image_api_posters__poster_id__image_put",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_poster_image_api_posters__poster_id__image_put"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/login": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Login Page",
        "description": "管理后台登录页面",
        "operationId": "admin_login_page_api_admin_login_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Login",
        "description": "处理管理后台登录",
        "operationId": "admin_login_api_admin_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_login_api_admin_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/logout": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Logout",
        "description": "处理管理后台登出",
        "operationId": "admin_logout_api_admin_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/admin/": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Dashboard",
        "description": "管理后台仪表板",
        "operationId": "admin_dashboard_api_admin__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Users",
        "description": "用户管理页面",
        "operationId": "admin_users_api_admin_users_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{user_id}": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin User Detail",
        "description": "用户详情页面",
        "operationId": "admin_user_detail_api_admin_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{user_id}/toggle": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Toggle User Status",
        "description": "切换用户激活状态（启用/禁用）",
        "operationId": "toggle_user_status_api_admin_users__user_id__toggle_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/messages": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Messages",
        "description": "消息管理页面",
        "operationId": "admin_messages_api_admin_messages_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/posters": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Posters Page",
        "description": "海报管理页面",
        "operationId": "posters_page_api_admin_posters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/admin/service_accounts": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Services",
        "description": "服务号管理页面",
        "operationId": "admin_services_api_admin_service_accounts_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/service_accounts/{service_id}/toggle": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Toggle Service Status",
        "description": "切换服务号激活状态",
        "operationId": "toggle_service_status_api_admin_service_accounts__service_id__toggle_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/service_accounts/{service_id}/avatar": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Upload Service Avatar",
        "description": "上传服务号头像",
        "operationId": "upload_service_avatar_api_admin_service_accounts__service_id__avatar_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_service_avatar_api_admin_service_accounts__service_id__avatar_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/service_accounts/{service_id}/push-time": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Update Service Push Time",
        "description": "更新服务号推送时间和描述",
        "operationId": "update_service_push_time_api_admin_service_accounts__service_id__push_time_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_service_push_time_api_admin_service_accounts__service_id__push_time_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/service_accounts/{service_name}/trigger-push": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Trigger Service Push",
        "description": "立即触发服务号推送任务（无视时间和用户限制）",
        "operationId": "trigger_service_push_api_admin_service_accounts__service_name__trigger_push_post",
        "parameters": [
          {
            "name": "service_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/login": {
      "get": {
        "summary": "Admin Login Page",
        "description": "管理后台登录页面",
        "operationId": "admin_login_page_admin_login_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Admin Login",
        "description": "处理管理后台登录",
        "operationId": "admin_login_admin_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_login_admin_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/logout": {
      "post": {
        "summary": "Admin Logout",
        "description": "处理管理后台登出",
        "operationId": "admin_logout_admin_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/": {
      "get": {
        "summary": "Admin Dashboard",
        "description": "管理后台仪表板",
        "operationId": "admin_dashboard_admin__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "get": {
        "summary": "Admin Users",
        "description": "用户管理页面",
        "operationId": "admin_users_admin_users_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}": {
      "get": {
        "summary": "Admin User Detail",
        "description": "用户详情页面",
        "operationId": "admin_user_detail_admin_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/toggle": {
      "post": {
        "summary": "Toggle User Status",
        "description": "切换用户激活状态（启用/禁用）",
        "operationId": "toggle_user_status_admin_users__user_id__toggle_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/messages": {
      "get": {
        "summary": "Admin Messages",
        "description": "消息管理页面",
        "operationId": "admin_messages_admin_messages_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/posters": {
      "get": {
        "summary": "Posters Page",
        "description": "海报管理页面",
        "operationId": "posters_page_admin_posters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts": {
      "get": {
        "summary": "Admin Services",
        "description": "服务号管理页面",
        "operationId": "admin_services_admin_service_accounts_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/toggle": {
      "post": {
        "summary": "Toggle Service Status",
        "description": "切换服务号激活状态",
        "operationId": "toggle_service_status_admin_service_accounts__service_id__toggle_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/avatar": {
      "post": {
        "summary": "Upload Service Avatar",
        "description": "上传服务号头像",
        "operationId": "upload_service_avatar_admin_service_accounts__service_id__avatar_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/push-time": {
      "post": {
        "summary": "Update Service Push Time",
        "description": "更新服务号推送时间和描述",
        "operationId": "update_service_push_time_admin_service_accounts__service_id__push_time_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_service_push_time_admin_service_accounts__service_id__push_time_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_name}/trigger-push": {
      "post": {
        "summary": "Trigger Service Push",
        "description": "立即触发服务号推送任务（无视时间和用户限制）",
        "operationId": "trigger_service_push_admin_service_accounts__service_name__trigger_push_post",
        "parameters": [
          {
            "name": "service_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiInfoResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "欢迎消息"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "API版本"
          },
          "project": {
            "type": "string",
            "title": "Project",
            "description": "项目名称"
          },
          "docs_url": {
            "type": "string",
            "title": "Docs Url",
            "description": "文档URL"
          },
          "redoc_url": {
            "type": "string",
            "title": "Redoc Url",
            "description": "Redoc文档URL"
          },
          "admin_url": {
            "type": "string",
            "title": "Admin Url",
            "description": "管理后台URL"
          }
        },
        "type": "object",
        "required": [
          "message",
          "version",
          "project",
          "docs_url",
          "redoc_url",
          "admin_url"
        ],
        "title": "ApiInfoResponse",
        "description": "API信息响应"
      },
      "BlockUserRequest": {
        "properties": {
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id",
            "description": "要拉黑的用户ID"
          }
        },
        "type": "object",
        "required": [
          "bipupu_id"
        ],
        "title": "BlockUserRequest",
        "description": "拉黑用户请求"
      },
      "BlockedUserResponse": {
        "properties": {
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "blocked_at": {
            "type": "string",
            "format": "date-time",
            "title": "Blocked At"
          }
        },
        "type": "object",
        "required": [
          "bipupu_id",
          "username",
          "blocked_at"
        ],
        "title": "BlockedUserResponse",
        "description": "被拉黑用户信息"
      },
      "Body_admin_login_admin_login_post": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_admin_login_admin_login_post"
      },
      "Body_admin_login_api_admin_login_post": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_admin_login_api_admin_login_post"
      },
      "Body_create_poster_api_posters__post": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Display Order",
            "description": "显示顺序",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "image_file": {
            "type": "string",
            "format": "binary",
            "title": "Image File",
            "description": "海报图片"
          }
        },
        "type": "object",
        "required": [
          "title",
          "image_file"
        ],
        "title": "Body_create_poster_api_posters__post"
      },
      "Body_update_poster_image_api_posters__poster_id__image_put": {
        "properties": {
          "image_file": {
            "type": "string",
            "format": "binary",
            "title": "Image File",
            "description": "新海报图片"
          }
        },
        "type": "object",
        "required": [
          "image_file"
        ],
        "title": "Body_update_poster_image_api_posters__poster_id__image_put"
      },
      "Body_update_service_push_time_admin_service_accounts__service_id__push_time_post": {
        "properties": {
          "push_time": {
            "type": "string",
            "title": "Push Time"
          },
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "push_time"
        ],
        "title": "Body_update_service_push_time_admin_service_accounts__service_id__push_time_post"
      },
      "Body_update_service_push_time_api_admin_service_accounts__service_id__push_time_post": {
        "properties": {
          "push_time": {
            "type": "string",
            "title": "Push Time"
          },
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "push_time"
        ],
        "title": "Body_update_service_push_time_api_admin_service_accounts__service_id__push_time_post"
      },
      "Body_upload_avatar_api_profile_avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_avatar_api_profile_avatar_post"
      },
      "Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post"
      },
      "Body_upload_service_avatar_api_admin_service_accounts__service_id__avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_service_avatar_api_admin_service_accounts__service_id__avatar_post"
      },
      "ContactCreate": {
        "properties": {
          "contact_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Contact Id",
            "description": "联系人用户ID"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "备注名"
          }
        },
        "type": "object",
        "required": [
          "contact_id"
        ],
        "title": "ContactCreate",
        "description": "创建联系人请求"
      },
      "ContactListResponse": {
        "properties": {
          "contacts": {
            "items": {
              "$ref": "#/components/schemas/ContactResponse"
            },
            "type": "array",
            "title": "Contacts"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "每页数量",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "contacts",
          "total"
        ],
        "title": "ContactListResponse",
        "description": "联系人列表响应"
      },
      "ContactResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "contact_id": {
            "type": "string",
            "title": "Contact Id",
            "description": "联系人用户ID"
          },
          "contact_username": {
            "type": "string",
            "title": "Contact Username",
            "description": "联系人用户名"
          },
          "contact_nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Nickname",
            "description": "联系人昵称"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "备注名"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contact_id",
          "contact_username",
          "created_at"
        ],
        "title": "ContactResponse",
        "description": "联系人响应"
      },
      "ContactUpdate": {
        "properties": {
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "备注名"
          }
        },
        "type": "object",
        "title": "ContactUpdate",
        "description": "更新联系人请求"
      },
      "CountResponse": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "数量"
          }
        },
        "type": "object",
        "required": [
          "count"
        ],
        "title": "CountResponse",
        "description": "计数响应"
      },
      "FavoriteCreate": {
        "properties": {
          "note": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "备注"
          }
        },
        "type": "object",
        "title": "FavoriteCreate",
        "description": "创建收藏请求"
      },
      "FavoriteListResponse": {
        "properties": {
          "favorites": {
            "items": {
              "$ref": "#/components/schemas/FavoriteResponse"
            },
            "type": "array",
            "title": "Favorites"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "每页数量",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "favorites",
          "total"
        ],
        "title": "FavoriteListResponse",
        "description": "收藏列表响应"
      },
      "FavoriteResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "message_id": {
            "type": "integer",
            "title": "Message Id"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "备注"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "message_content": {
            "type": "string",
            "title": "Message Content",
            "description": "消息内容"
          },
          "message_sender": {
            "type": "string",
            "title": "Message Sender",
            "description": "发送者ID"
          },
          "message_created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Message Created At",
            "description": "消息创建时间"
          }
        },
        "type": "object",
        "required": [
          "id",
          "message_id",
          "created_at",
          "message_content",
          "message_sender",
          "message_created_at"
        ],
        "title": "FavoriteResponse",
        "description": "收藏响应"
      },
      "Gender": {
        "type": "string",
        "enum": [
          "male",
          "female",
          "other"
        ],
        "title": "Gender",
        "description": "性别枚举"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "服务状态"
          },
          "service": {
            "type": "string",
            "title": "Service",
            "description": "服务名称"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "检查时间"
          }
        },
        "type": "object",
        "required": [
          "status",
          "service",
          "timestamp"
        ],
        "title": "HealthResponse",
        "description": "健康检查响应"
      },
      "LiveResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "存活状态"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "检查时间"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp"
        ],
        "title": "LiveResponse",
        "description": "存活检查响应"
      },
      "MessageCreate": {
        "properties": {
          "receiver_id": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Receiver Id",
            "description": "接收者ID"
          },
          "content": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Content",
            "description": "消息内容"
          },
          "message_type": {
            "$ref": "#/components/schemas/MessageType",
            "description": "消息类型",
            "default": "NORMAL"
          },
          "pattern": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern",
            "description": "扩展模式数据"
          },
          "waveform": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array",
                "maxItems": 128
              },
              {
                "type": "null"
              }
            ],
            "title": "Waveform",
            "description": "音频波形数据"
          }
        },
        "type": "object",
        "required": [
          "receiver_id",
          "content"
        ],
        "title": "MessageCreate",
        "description": "创建消息请求"
      },
      "MessageListResponse": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageResponse"
            },
            "type": "array",
            "title": "Messages"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "messages",
          "total",
          "page",
          "page_size"
        ],
        "title": "MessageListResponse",
        "description": "消息列表响应"
      },
      "MessagePollResponse": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageResponse"
            },
            "type": "array",
            "title": "Messages"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "是否有更多消息",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "messages"
        ],
        "title": "MessagePollResponse",
        "description": "轮询消息响应"
      },
      "MessageResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "sender_id": {
            "type": "string",
            "title": "Sender Id",
            "description": "发送者ID"
          },
          "receiver_id": {
            "type": "string",
            "title": "Receiver Id",
            "description": "接收者ID"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "message_type": {
            "$ref": "#/components/schemas/MessageType"
          },
          "pattern": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern"
          },
          "waveform": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Waveform"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "sender_id",
          "receiver_id",
          "content",
          "message_type",
          "created_at"
        ],
        "title": "MessageResponse",
        "description": "消息响应"
      },
      "MessageType": {
        "type": "string",
        "enum": [
          "NORMAL",
          "VOICE",
          "SYSTEM"
        ],
        "title": "MessageType",
        "description": "消息类型枚举"
      },
      "PaginatedResponse_BlockedUserResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BlockedUserResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "pages": {
            "type": "integer",
            "title": "Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "size",
          "pages"
        ],
        "title": "PaginatedResponse[BlockedUserResponse]"
      },
      "PosterListResponse": {
        "properties": {
          "posters": {
            "items": {
              "$ref": "#/components/schemas/PosterResponse"
            },
            "type": "array",
            "title": "Posters"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "每页数量",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "posters",
          "total"
        ],
        "title": "PosterListResponse",
        "description": "海报列表响应"
      },
      "PosterResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "type": "integer",
            "title": "Display Order",
            "description": "显示顺序",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "created_at",
          "updated_at"
        ],
        "title": "PosterResponse",
        "description": "海报响应"
      },
      "PosterUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Order",
            "description": "显示顺序"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "是否激活"
          }
        },
        "type": "object",
        "title": "PosterUpdate",
        "description": "更新海报请求"
      },
      "PushTimeSource": {
        "type": "string",
        "enum": [
          "subscription",
          "service_default",
          "none"
        ],
        "title": "PushTimeSource",
        "description": "推送时间来源枚举"
      },
      "ReadyResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "就绪状态"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "检查时间"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp"
        ],
        "title": "ReadyResponse",
        "description": "就绪检查响应"
      },
      "ServiceAccountList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ServiceAccountResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "每页数量",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "ServiceAccountList",
        "description": "服务号列表响应"
      },
      "ServiceAccountResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Name",
            "description": "服务号名称"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "服务号描述"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "头像URL"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at"
        ],
        "title": "ServiceAccountResponse",
        "description": "服务号响应"
      },
      "SubscriptionSettingsResponse": {
        "properties": {
          "push_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Push Time",
            "description": "推送时间，格式: HH:MM"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "是否启用推送",
            "default": true
          },
          "service_name": {
            "type": "string",
            "title": "Service Name",
            "description": "服务号名称"
          },
          "service_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service Description",
            "description": "服务号描述"
          },
          "subscribed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Subscribed At",
            "description": "订阅时间"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "最后更新时间"
          },
          "push_time_source": {
            "$ref": "#/components/schemas/PushTimeSource",
            "description": "推送时间来源",
            "default": "none"
          }
        },
        "type": "object",
        "required": [
          "service_name",
          "subscribed_at"
        ],
        "title": "SubscriptionSettingsResponse",
        "description": "订阅设置响应"
      },
      "SubscriptionSettingsUpdate": {
        "properties": {
          "push_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Push Time",
            "description": "推送时间，格式: HH:MM"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "description": "是否启用推送",
            "default": true
          }
        },
        "type": "object",
        "title": "SubscriptionSettingsUpdate",
        "description": "更新订阅设置请求"
      },
      "SuccessResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "是否成功",
            "default": true
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "成功消息"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "响应数据"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "SuccessResponse",
        "description": "成功响应"
      },
      "TimezoneUpdate": {
        "properties": {
          "timezone": {
            "type": "string",
            "pattern": "^[A-Za-z_]+/[A-Za-z_]+$",
            "title": "Timezone",
            "description": "时区标识符，如 Asia/Shanghai",
            "examples": [
              "Asia/Shanghai",
              "America/New_York",
              "Europe/London"
            ]
          }
        },
        "type": "object",
        "required": [
          "timezone"
        ],
        "title": "TimezoneUpdate",
        "description": "更新时区请求"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "访问令牌"
          },
          "refresh_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token",
            "description": "刷新令牌"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "令牌类型",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "过期时间（秒）"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in"
        ],
        "title": "Token",
        "description": "认证令牌响应"
      },
      "TokenRefresh": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "刷新令牌"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "TokenRefresh",
        "description": "刷新令牌请求"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 6,
            "title": "Password",
            "description": "密码"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserCreate",
        "description": "创建用户请求"
      },
      "UserLogin": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "密码"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserLogin",
        "description": "用户登录请求"
      },
      "UserPasswordUpdate": {
        "properties": {
          "old_password": {
            "type": "string",
            "title": "Old Password",
            "description": "原密码"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 6,
            "title": "New Password",
            "description": "新密码"
          }
        },
        "type": "object",
        "required": [
          "old_password",
          "new_password"
        ],
        "title": "UserPasswordUpdate",
        "description": "更新密码请求"
      },
      "UserPrivate": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "头像URL"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否活跃",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "birthday": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthday",
            "description": "公历生日"
          },
          "zodiac": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zodiac",
            "description": "西方星座"
          },
          "age": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Age",
            "description": "年龄"
          },
          "bazi": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bazi",
            "description": "生辰八字"
          },
          "gender": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Gender"
              },
              {
                "type": "null"
              }
            ],
            "description": "性别"
          },
          "mbti": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mbti",
            "description": "MBTI类型"
          },
          "birth_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Time",
            "description": "出生时间"
          },
          "birthplace": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthplace",
            "description": "出生地"
          },
          "last_active": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Active"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "avatar_version": {
            "type": "integer",
            "title": "Avatar Version",
            "description": "头像版本号",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "username",
          "bipupu_id",
          "created_at"
        ],
        "title": "UserPrivate",
        "description": "用户私有信息（对用户自己可见）"
      },
      "UserPublic": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "头像URL"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否活跃",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "username",
          "bipupu_id",
          "created_at"
        ],
        "title": "UserPublic",
        "description": "用户公开信息（对外API响应）"
      },
      "UserSubscriptionList": {
        "properties": {
          "subscriptions": {
            "items": {
              "$ref": "#/components/schemas/UserSubscriptionResponse"
            },
            "type": "array",
            "title": "Subscriptions"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码",
            "default": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "每页数量",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "subscriptions",
          "total"
        ],
        "title": "UserSubscriptionList",
        "description": "用户订阅列表响应"
      },
      "UserSubscriptionResponse": {
        "properties": {
          "service": {
            "$ref": "#/components/schemas/ServiceAccountResponse"
          },
          "settings": {
            "$ref": "#/components/schemas/SubscriptionSettingsResponse"
          }
        },
        "type": "object",
        "required": [
          "service",
          "settings"
        ],
        "title": "UserSubscriptionResponse",
        "description": "用户订阅详情响应"
      },
      "UserUpdate": {
        "properties": {
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          },
          "birthday": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthday",
            "description": "公历生日，格式 YYYY-MM-DD"
          },
          "zodiac": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Zodiac",
            "description": "西方星座"
          },
          "age": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 150.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Age",
            "description": "年龄"
          },
          "bazi": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Bazi",
            "description": "生辰八字"
          },
          "gender": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Gender"
              },
              {
                "type": "null"
              }
            ],
            "description": "性别"
          },
          "mbti": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 4
              },
              {
                "type": "null"
              }
            ],
            "title": "Mbti",
            "description": "MBTI类型"
          },
          "birth_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Time",
            "description": "出生时间，格式: HH:MM"
          },
          "birthplace": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthplace",
            "description": "出生地"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "更新用户信息请求"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "tags": [
    {
      "name": "system",
      "description": "System health checks, service information and API root path"
    },
    {
      "name": "authentication",
      "description": "User registration, login, token refresh, logout and other authentication related interfaces"
    },
    {
      "name": "messages",
      "description": "Instant message sending, receiving, favoriting, deletion and other message management functions"
    },
    {
      "name": "contacts",
      "description": "Contact adding, querying, updating, deletion and other contact management functions"
    },
    {
      "name": "blacklist",
      "description": "User blocking, unblocking, blacklist query functions"
    },
    {
      "name": "user-profile",
      "description": "User personal information, avatar, password, push settings and other profile management"
    },
    {
      "name": "users",
      "description": "User public information query, including user profiles and avatar retrieval"
    },
    {
      "name": "service-accounts",
      "description": "Service account list, details, subscription management, push settings and other functions"
    },
    {
      "name": "subscriptions",
      "description": "User subscribed service account list and subscription settings management"
    },
    {
      "name": "admin",
      "description": "Administrator backend management interface, including user, message, service account management"
    },
    {
      "name": "posters",
      "description": "Poster management, including creation, update, deletion and image handling"
    },
    {
      "name": "websocket",
      "description": "WebSocket connections for real-time messaging and notifications"
    }
  ]
}