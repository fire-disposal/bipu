{
  "openapi": "3.1.0",
  "info": {
    "title": "bipupu",
    "description": "BIPUPU API 服务",
    "version": "0.2.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "系统"
        ],
        "summary": "Health Check",
        "description": "系统健康检查",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "tags": [
          "系统"
        ],
        "summary": "Readiness Check",
        "description": "就绪检查端点",
        "operationId": "readiness_check_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/live": {
      "get": {
        "tags": [
          "系统"
        ],
        "summary": "Liveness Check",
        "description": "存活检查端点",
        "operationId": "liveness_check_live_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "系统"
        ],
        "summary": "Root",
        "description": "根路径 - 返回API信息",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/register": {
      "post": {
        "tags": [
          "认证",
          "认证"
        ],
        "summary": "Register User",
        "description": "用户注册\n\n参数：\n- username: 用户名，用于登录\n- password: 密码，长度限制为6-128字符\n- nickname: 昵称，可选\n\n返回：\n- 成功：返回新创建的用户信息\n- 失败：400（验证失败）或429（注册频率限制）或500（数据库操作失败）\n\n特性：\n- 速率限制：每个用户名每小时最多10次注册尝试\n- 密码自动哈希存储\n- 自动生成唯一的 bipupu_id\n- 验证用户名和密码格式\n\n注意：\n- 用户名必须是唯一的\n- 密码在传输和存储中都会加密\n- 注册后用户自动处于活跃状态",
        "operationId": "register_user_api_public_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/login": {
      "post": {
        "tags": [
          "认证",
          "认证"
        ],
        "summary": "Login",
        "description": "用户登录\n\n参数：\n- username: 用户名\n- password: 密码\n\n返回：\n- 成功：返回访问令牌和刷新令牌\n- 失败：401（用户名或密码错误）或400（用户未激活）或429（登录频率限制）\n\n包含信息：\n- access_token: 访问令牌，用于API认证\n- refresh_token: 刷新令牌，用于获取新的访问令牌\n- token_type: 令牌类型，固定为\"bearer\"\n- expires_in: 访问令牌过期时间（秒）\n\n特性：\n- 速率限制：每个用户名每分钟最多5次登录尝试\n- 支持JWT令牌认证\n- 自动验证用户激活状态\n- 符合OAuth 2.0标准格式\n\n注意：\n- 访问令牌有过期时间，需定期刷新\n- 刷新令牌用于获取新的访问令牌\n- 非活跃用户无法登录\n- 用户信息需要通过单独的端点获取",
        "operationId": "login_api_public_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/refresh": {
      "post": {
        "tags": [
          "认证",
          "认证"
        ],
        "summary": "Refresh Token",
        "description": "刷新访问令牌\n\n参数：\n- refresh_token: 刷新令牌\n\n返回：\n- 成功：返回新的访问令牌和刷新令牌\n- 失败：401（无效的刷新令牌）或429（刷新频率限制）\n\n包含信息：\n- access_token: 新的访问令牌\n- refresh_token: 新的刷新令牌（支持令牌轮换）\n- token_type: 令牌类型，固定为\"bearer\"\n- expires_in: 访问令牌过期时间（秒）\n\n特性：\n- 速率限制：每个刷新令牌每小时最多10次刷新尝试\n- 支持令牌轮换，每次刷新生成新的刷新令牌\n- 验证刷新令牌类型和用户状态\n- 自动验证用户是否活跃\n- 符合OAuth 2.0标准格式\n\n注意：\n- 刷新令牌只能用于刷新访问令牌，不能用于API访问\n- 旧的刷新令牌在刷新后失效\n- 非活跃用户的刷新令牌无效\n- 用户信息需要通过单独的端点获取",
        "operationId": "refresh_token_api_public_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TokenRefresh"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/logout": {
      "post": {
        "tags": [
          "认证",
          "认证"
        ],
        "summary": "Logout",
        "description": "用户登出\n\n参数：\n- Bearer Token: 通过Authorization头传递的访问令牌\n\n返回：\n- 成功：返回登出成功消息\n- 失败：401（无效令牌）或500（服务器错误）\n\n特性：\n- 将当前访问令牌加入黑名单\n- 黑名单令牌在剩余有效期内无法使用\n- 支持令牌过期时间计算\n\n注意：\n- 需要有效的访问令牌\n- 登出后当前令牌立即失效\n- 其他设备的令牌仍然有效，需要分别登出\n- 刷新令牌不受登出影响，需要单独处理",
        "operationId": "logout_api_public_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/messages/": {
      "post": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Send Message",
        "description": "发送消息\n\n支持：\n- 用户间传讯（receiver_id 为用户的 bipupu_id）\n- 向服务号发送消息（receiver_id 为服务号 ID，如 \"cosmic.fortune\"）",
        "operationId": "send_message_api_messages__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Get Messages",
        "description": "获取消息列表\n\n参数：\n- direction: sent（发件箱）或 received（收件箱）\n- page: 页码\n- page_size: 每页数量",
        "operationId": "get_messages_api_messages__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "direction",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "sent 或 received",
              "default": "received",
              "title": "Direction"
            },
            "description": "sent 或 received"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/poll": {
      "get": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Poll Messages",
        "description": "长轮询接口：\n如果数据库有比 last_msg_id 更新的消息，立即返回。\n如果没有，则异步等待直到有新消息或超时。",
        "operationId": "poll_messages_api_messages_poll_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "last_msg_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "最后收到的消息ID",
              "default": 0,
              "title": "Last Msg Id"
            },
            "description": "最后收到的消息ID"
          },
          {
            "name": "timeout",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 120,
              "minimum": 1,
              "description": "轮询超时时间（秒）",
              "default": 30,
              "title": "Timeout"
            },
            "description": "轮询超时时间（秒）"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageResponse"
                  },
                  "title": "Response Poll Messages Api Messages Poll Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/favorites": {
      "get": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Get Favorites",
        "description": "获取收藏消息列表",
        "operationId": "get_favorites_api_messages_favorites_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/{message_id}/favorite": {
      "post": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Add Favorite",
        "description": "收藏消息",
        "operationId": "add_favorite_api_messages__message_id__favorite_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/FavoriteCreate"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Favorite Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Remove Favorite",
        "description": "取消收藏",
        "operationId": "remove_favorite_api_messages__message_id__favorite_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/{message_id}": {
      "delete": {
        "tags": [
          "消息",
          "消息"
        ],
        "summary": "Delete Message",
        "description": "删除消息（只能删除收到的消息）",
        "operationId": "delete_message_api_messages__message_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks": {
      "post": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Block User",
        "description": "拉黑用户\n\n参数：\n- bipupu_id: 要拉黑的用户 Bipupu ID（业务 ID）\n\n返回：\n- 成功：返回操作成功消息\n- 失败：404（用户不存在）或 400（已拉黑或不能拉黑自己）或 500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 不能拉黑自己\n- 拉黑后，双方将无法互相发送消息\n- 拉黑关系是单向的",
        "operationId": "block_user_api_blocks_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BlockUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Get Blocked Users",
        "description": "获取当前用户的黑名单列表\n\n参数：\n- page: 页码，默认为 1\n- size: 每页数量，默认为 20，最大 100\n\n返回：\n- items: 黑名单用户列表\n- total: 黑名单用户总数\n- page: 当前页码\n- size: 每页数量\n- pages: 总页数\n\n包含信息：\n- 用户基本信息（ID、bipupu_id、用户名、昵称、头像）\n- 拉黑时间\n\n注意：\n- 需要用户认证\n- 返回分页结果，支持分页查询",
        "operationId": "get_blocked_users_api_blocks_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页数量",
              "default": 20,
              "title": "Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_BlockedUserResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/{bipupu_id}": {
      "delete": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Unblock User",
        "description": "解除拉黑用户\n\n参数：\n- bipupu_id: 要解除拉黑的用户 Bipupu ID（业务 ID）\n\n返回：\n- 成功：返回操作成功消息\n- 失败：404（用户不存在或未拉黑）或 500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 解除拉黑后，双方可以重新互相发送消息\n- 解除拉黑不会自动添加为联系人",
        "operationId": "unblock_user_api_blocks__bipupu_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/check/{bipupu_id}": {
      "get": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Check Block Status",
        "description": "检查与指定用户的拉黑关系状态\n\n参数：\n- bipupu_id: 要检查的用户 Bipupu ID\n\n返回：\n- is_blocked_by_me: 我是否拉黑了对方\n- is_blocked_by_them: 对方是否拉黑了我\n- mutual_block: 是否互相拉黑\n- user_info: 用户基本信息（如果用户存在）\n\n注意：\n- 需要用户认证\n- 如果用户不存在，返回 404",
        "operationId": "check_block_status_api_blocks_check__bipupu_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Check Block Status Api Blocks Check  Bipupu Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/search": {
      "get": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Search Blocked Users",
        "description": "在黑名单中搜索用户\n\n参数：\n- keyword: 搜索关键词，支持用户名、昵称或 bipupu_id 的部分匹配\n- limit: 返回结果数量限制，默认为 10，最大 50\n\n返回：\n- 匹配的黑名单用户列表\n\n注意：\n- 需要用户认证\n- 搜索不区分大小写\n- 返回结果按拉黑时间倒序排列",
        "operationId": "search_blocked_users_api_blocks_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "搜索关键词（用户名、昵称或 bipupu_id）",
              "title": "Keyword"
            },
            "description": "搜索关键词（用户名、昵称或 bipupu_id）"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "返回结果数量限制",
              "default": 10,
              "title": "Limit"
            },
            "description": "返回结果数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BlockedUserResponse"
                  },
                  "title": "Response Search Blocked Users Api Blocks Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/blocks/count": {
      "get": {
        "tags": [
          "黑名单",
          "黑名单"
        ],
        "summary": "Get Block Count",
        "description": "获取黑名单统计信息\n\n参数：\n- 无\n\n返回：\n- total_blocks: 我拉黑的用户总数\n- total_blocked_by: 拉黑我的用户总数\n- mutual_blocks: 互相拉黑的用户数\n\n注意：\n- 需要用户认证",
        "operationId": "get_block_count_api_blocks_count_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Block Count Api Blocks Count Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/avatar": {
      "post": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Upload Avatar",
        "description": "上传并更新用户头像（存储到数据库）- 优化版本",
        "operationId": "upload_avatar_api_profile_avatar_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_avatar_api_profile_avatar_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/me": {
      "get": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Get Current User Info",
        "description": "获取当前用户信息",
        "operationId": "get_current_user_info_api_profile_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/": {
      "get": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Get User Profile",
        "description": "获取用户详细资料",
        "operationId": "get_user_profile_api_profile__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Update User Profile",
        "description": "更新用户详细资料",
        "operationId": "update_user_profile_api_profile__put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/password": {
      "put": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Update Password",
        "description": "更新用户密码",
        "operationId": "update_password_api_profile_password_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPasswordUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/timezone": {
      "put": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Update Timezone",
        "description": "更新用户时区设置",
        "operationId": "update_timezone_api_profile_timezone_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimezoneUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/push-settings": {
      "get": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Get Push Settings",
        "description": "获取用户推送设置信息",
        "operationId": "get_push_settings_api_profile_push_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Push Settings Api Profile Push Settings Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/profile/avatar/{bipupu_id}": {
      "get": {
        "tags": [
          "用户资料",
          "用户资料"
        ],
        "summary": "Get User Avatar",
        "description": "获取用户头像（通过用户业务 ID bipupu_id 提供）- 优化版本",
        "operationId": "get_user_avatar_api_profile_avatar__bipupu_id__get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{bipupu_id}": {
      "get": {
        "tags": [
          "用户",
          "用户"
        ],
        "summary": "Get User By Bipupu Id",
        "description": "通过 bipupu_id 获取用户公开信息\n\n参数：\n- bipupu_id: 用户的业务标识符\n\n返回：\n- 成功：返回用户公开信息\n- 失败：404（用户不存在）\n\n包含信息：\n- 用户名、昵称、bipupu_id\n- 头像URL\n- 用户状态（是否活跃）\n- 创建时间等基本信息\n\n注意：\n- 无需认证，公开接口\n- 不返回敏感信息（如邮箱、密码等）\n- 只返回 is_active=True 的用户信息",
        "operationId": "get_user_by_bipupu_id_api_users__bipupu_id__get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{bipupu_id}/avatar": {
      "get": {
        "tags": [
          "用户",
          "用户"
        ],
        "summary": "Get User Avatar By Bipupu Id",
        "description": "通过 bipupu_id 获取用户头像\n\n参数：\n- bipupu_id: 用户的业务标识符\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 头像数据缓存24小时\n- 自动处理头像版本更新\n\n返回：\n- 成功：返回JPEG格式的头像图片\n- 失败：404（用户或头像不存在）\n\n注意：\n- 无需认证，公开接口\n- 支持缓存控制头（Cache-Control, ETag）\n- 如果用户没有头像，返回404错误\n- 前端应处理无头像情况（如显示首字母）",
        "operationId": "get_user_avatar_by_bipupu_id_api_users__bipupu_id__avatar_get",
        "parameters": [
          {
            "name": "bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Bipupu Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/contacts/": {
      "get": {
        "tags": [
          "联系人",
          "联系人"
        ],
        "summary": "Get Contacts",
        "description": "获取当前用户的联系人列表\n\n返回：\n- contacts: 联系人列表，包含联系人基本信息及备注\n- total: 联系人总数\n\n注意：只返回当前用户主动添加的联系人",
        "operationId": "get_contacts_api_contacts__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "联系人",
          "联系人"
        ],
        "summary": "Add Contact",
        "description": "添加联系人\n\n参数：\n- contact_bipupu_id: 要添加的联系人的 bipupu_id\n- alias: 可选的联系人备注/别名\n\n返回：\n- 成功：返回新创建的联系人信息\n- 失败：404（用户不存在）或 400（已是联系人或添加自己）",
        "operationId": "add_contact_api_contacts__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/contacts/{contact_bipupu_id}": {
      "put": {
        "tags": [
          "联系人",
          "联系人"
        ],
        "summary": "Update Contact",
        "description": "更新联系人备注\n\n参数：\n- contact_bipupu_id: 要更新的联系人的 bipupu_id\n- alias: 新的联系人备注/别名\n\n返回：\n- 成功：返回更新成功消息\n- 失败：404（联系人不存在）或 500（数据库操作失败）",
        "operationId": "update_contact_api_contacts__contact_bipupu_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "contact_bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Contact Bipupu Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "联系人",
          "联系人"
        ],
        "summary": "Delete Contact",
        "description": "删除联系人\n\n参数：\n- contact_bipupu_id: 要删除的联系人的 bipupu_id\n\n返回：\n- 成功：204 No Content\n- 失败：404（联系人不存在）或 500（数据库操作失败）",
        "operationId": "delete_contact_api_contacts__contact_bipupu_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "contact_bipupu_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Contact Bipupu Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/": {
      "get": {
        "tags": [
          "服务号",
          "服务号"
        ],
        "summary": "List Service Accounts",
        "description": "获取所有活跃的服务号列表\n\n参数：\n- skip: 跳过的记录数，用于分页\n- limit: 每页返回的记录数，最大100\n\n返回：\n- items: 服务号列表\n- total: 活跃服务号总数\n\n注意：只返回 is_active=True 的服务号",
        "operationId": "list_service_accounts_api_service_accounts__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountList"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}": {
      "get": {
        "tags": [
          "服务号",
          "服务号"
        ],
        "summary": "Get Service Account",
        "description": "获取指定服务号详情\n\n参数：\n- name: 服务号名称\n\n返回：\n- 成功：返回服务号详细信息\n- 失败：404（服务号不存在）\n\n注意：需要用户认证",
        "operationId": "get_service_account_api_service_accounts__name__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}/avatar": {
      "get": {
        "tags": [
          "服务号",
          "服务号"
        ],
        "summary": "Get Service Avatar",
        "description": "获取服务号头像\n\n参数：\n- name: 服务号名称\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 头像数据缓存24小时\n\n返回：\n- 成功：返回JPEG格式的头像图片\n- 失败：404（服务号或头像不存在）",
        "operationId": "get_service_avatar_api_service_accounts__name__avatar_get",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/subscriptions/": {
      "get": {
        "tags": [
          "服务号",
          "订阅"
        ],
        "summary": "Get User Subscriptions",
        "description": "获取当前用户订阅的所有服务号列表\n\n返回：\n- subscriptions: 订阅的服务号列表，包含服务信息和订阅设置\n- total: 订阅的服务号总数\n\n包含信息：\n- 服务号基本信息（名称、描述、头像等）\n- 订阅设置（推送时间、启用状态、订阅时间等）\n\n注意：需要用户认证",
        "operationId": "get_user_subscriptions_api_service_accounts_subscriptions__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSubscriptionList"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/service_accounts/{name}/settings": {
      "get": {
        "tags": [
          "服务号",
          "订阅"
        ],
        "summary": "Get Subscription Settings",
        "description": "获取指定服务号的订阅设置\n\n参数：\n- name: 服务号名称\n\n返回：\n- 成功：返回该服务号的订阅设置详情\n- 失败：404（服务号不存在或未订阅）\n\n包含信息：\n- 服务号基本信息\n- 推送时间设置及来源\n- 订阅启用状态\n- 订阅时间戳\n\n注意：需要用户认证且已订阅该服务号",
        "operationId": "get_subscription_settings_api_service_accounts__name__settings_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "服务号",
          "订阅"
        ],
        "summary": "Update Subscription Settings",
        "description": "更新服务号订阅设置\n\n参数：\n- name: 服务号名称\n- push_time: 推送时间（HH:MM格式），可选\n- is_enabled: 是否启用推送，可选\n\n返回：\n- 成功：返回更新后的订阅设置\n- 失败：404（服务号不存在或未订阅）或400（时间格式无效）\n\n注意：\n- 需要用户认证且已订阅该服务号\n- 推送时间格式必须为 HH:MM（24小时制）\n- 如果只更新部分字段，其他字段保持不变\n- 设置 push_time=null 可清除个人化设置，恢复使用默认时间",
        "operationId": "update_subscription_settings_api_service_accounts__name__settings_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubscriptionSettingsUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/service_accounts/{name}/subscribe": {
      "post": {
        "tags": [
          "服务号",
          "订阅"
        ],
        "summary": "Subscribe Service Account",
        "description": "订阅服务号\n\n参数：\n- name: 要订阅的服务号名称\n- push_time: 初始推送时间（HH:MM格式），可选\n- is_enabled: 初始启用状态，可选，默认为True\n\n返回：\n- 成功：返回订阅成功信息\n- 失败：404（服务号不存在）或400（已订阅）或500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 只能订阅 is_active=True 的服务号\n- 推送时间格式必须为 HH:MM（24小时制）\n- 如果未提供推送时间，使用服务号默认推送时间",
        "operationId": "subscribe_service_account_api_service_accounts__name__subscribe_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/SubscriptionSettingsUpdate"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Settings Update"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "服务号",
          "订阅"
        ],
        "summary": "Unsubscribe Service Account",
        "description": "取消订阅服务号\n\n参数：\n- name: 要取消订阅的服务号名称\n\n返回：\n- 成功：返回取消订阅成功信息\n- 失败：404（服务号不存在）或400（未订阅）或500（数据库操作失败）\n\n注意：\n- 需要用户认证\n- 取消订阅后，该服务号的推送将停止\n- 订阅记录将被删除，相关设置不会保留",
        "operationId": "unsubscribe_service_account_api_service_accounts__name__subscribe_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/": {
      "get": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Get Posters",
        "description": "获取海报列表（管理用）",
        "operationId": "get_posters_api_posters__get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页数量",
              "default": 20,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Create Poster",
        "description": "创建海报",
        "operationId": "create_poster_api_posters__post",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_poster_api_posters__post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/active": {
      "get": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Get Active Posters",
        "description": "获取激活的海报列表（前端轮播用）",
        "operationId": "get_active_posters_api_posters_active_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 20,
              "minimum": 1,
              "description": "返回数量",
              "default": 10,
              "title": "Limit"
            },
            "description": "返回数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PosterResponse"
                  },
                  "title": "Response Get Active Posters Api Posters Active Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/{poster_id}": {
      "get": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Get Poster",
        "description": "获取单个海报详情",
        "operationId": "get_poster_api_posters__poster_id__get",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Update Poster",
        "description": "更新海报信息",
        "operationId": "update_poster_api_posters__poster_id__put",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PosterUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Delete Poster",
        "description": "删除海报",
        "operationId": "delete_poster_api_posters__poster_id__delete",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/{poster_id}/image": {
      "get": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Get Poster Image",
        "description": "获取海报图片（二进制格式，直接用于img标签）\n\n参数：\n- poster_id: 海报ID\n\n返回：\n- 成功：返回JPEG格式的二进制图片数据\n- 失败：404（海报或图片不存在）\n\n特性：\n- 支持ETag缓存，减少带宽消耗\n- 支持HTTP 304 Not Modified响应\n- 图片数据缓存24小时\n- 自动处理图片版本更新\n\n注意：\n- 无需认证，公开接口\n- 支持缓存控制头（Cache-Control, ETag）\n- 统一返回JPEG格式二进制数据\n- 前端可直接用于img标签的src属性",
        "operationId": "get_poster_image_api_posters__poster_id__image_get",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "海报",
          "海报"
        ],
        "summary": "Update Poster Image",
        "description": "更新海报图片",
        "operationId": "update_poster_image_api_posters__poster_id__image_put",
        "parameters": [
          {
            "name": "poster_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Poster Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_poster_image_api_posters__poster_id__image_put"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PosterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/login": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Login Page",
        "description": "管理后台登录页面",
        "operationId": "admin_login_page_admin_login_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Login",
        "description": "处理管理后台登录",
        "operationId": "admin_login_admin_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_login_admin_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/logout": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Logout",
        "description": "处理管理后台登出",
        "operationId": "admin_logout_admin_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Dashboard",
        "description": "管理后台仪表板",
        "operationId": "admin_dashboard_admin__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Users",
        "description": "用户管理页面",
        "operationId": "admin_users_admin_users_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin User Detail",
        "description": "用户详情页面",
        "operationId": "admin_user_detail_admin_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/toggle": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Toggle User Status",
        "description": "切换用户激活状态（启用/禁用）",
        "operationId": "toggle_user_status_admin_users__user_id__toggle_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/messages": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Messages",
        "description": "消息管理页面",
        "operationId": "admin_messages_admin_messages_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/posters": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Posters Page",
        "description": "海报管理页面",
        "operationId": "posters_page_admin_posters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Services",
        "description": "服务号管理页面",
        "operationId": "admin_services_admin_service_accounts_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/toggle": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Toggle Service Status",
        "description": "切换服务号激活状态",
        "operationId": "toggle_service_status_admin_service_accounts__service_id__toggle_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/avatar": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Upload Service Avatar",
        "description": "上传服务号头像",
        "operationId": "upload_service_avatar_admin_service_accounts__service_id__avatar_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_id}/push-time": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Update Service Push Time",
        "description": "更新服务号推送时间和描述",
        "operationId": "update_service_push_time_admin_service_accounts__service_id__push_time_post",
        "parameters": [
          {
            "name": "service_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Service Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_service_push_time_admin_service_accounts__service_id__push_time_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/service_accounts/{service_name}/trigger-push": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Trigger Service Push",
        "description": "立即触发服务号推送任务（无视时间和用户限制）",
        "operationId": "trigger_service_push_admin_service_accounts__service_name__trigger_push_post",
        "parameters": [
          {
            "name": "service_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_contacts": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Test Contacts",
        "description": "API测试页面 (联系人与黑名单)",
        "operationId": "admin_test_contacts_admin_test_contacts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/test_contacts/add": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Add Contact",
        "description": "处理添加联系人测试",
        "operationId": "admin_add_contact_admin_test_contacts_add_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_add_contact_admin_test_contacts_add_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_contacts/remove": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Remove Contact",
        "description": "处理删除联系人测试",
        "operationId": "admin_remove_contact_admin_test_contacts_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_remove_contact_admin_test_contacts_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_contacts/block": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Block User",
        "description": "处理添加黑名单测试",
        "operationId": "admin_block_user_admin_test_contacts_block_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_block_user_admin_test_contacts_block_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_contacts/unblock": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Unblock User",
        "description": "处理移除黑名单测试",
        "operationId": "admin_unblock_user_admin_test_contacts_unblock_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_unblock_user_admin_test_contacts_unblock_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_profile": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Test Profile",
        "description": "API测试页面 (用户资料设置)",
        "operationId": "admin_test_profile_admin_test_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/test_profile/avatar": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Update Avatar",
        "description": "处理更新头像测试",
        "operationId": "admin_update_avatar_admin_test_profile_avatar_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_update_avatar_admin_test_profile_avatar_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_profile/avatar/delete": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Delete Avatar",
        "description": "处理删除头像测试",
        "operationId": "admin_delete_avatar_admin_test_profile_avatar_delete_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/test_profile/update": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Update Profile",
        "description": "处理更新用户资料测试",
        "operationId": "admin_update_profile_admin_test_profile_update_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_update_profile_admin_test_profile_update_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/test_chat": {
      "get": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Test Chat",
        "description": "API测试页面 (消息)",
        "operationId": "admin_test_chat_admin_test_chat_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/admin/test_chat/send": {
      "post": {
        "tags": [
          "管理后台"
        ],
        "summary": "Admin Send Message",
        "description": "处理发送消息测试",
        "operationId": "admin_send_message_admin_test_chat_send_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_admin_send_message_admin_test_chat_send_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiInfoResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "project": {
            "type": "string",
            "title": "Project"
          },
          "docs_url": {
            "type": "string",
            "title": "Docs Url"
          },
          "redoc_url": {
            "type": "string",
            "title": "Redoc Url"
          }
        },
        "type": "object",
        "required": [
          "message",
          "version",
          "project",
          "docs_url",
          "redoc_url"
        ],
        "title": "ApiInfoResponse",
        "description": "根路径 API 信息响应"
      },
      "BlockUserRequest": {
        "properties": {
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          }
        },
        "type": "object",
        "required": [
          "bipupu_id"
        ],
        "title": "BlockUserRequest",
        "description": "黑名单用户请求"
      },
      "BlockedUserResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "blocked_at": {
            "type": "string",
            "format": "date-time",
            "title": "Blocked At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "bipupu_id",
          "username",
          "blocked_at"
        ],
        "title": "BlockedUserResponse",
        "description": "被拉黑用户响应模型"
      },
      "Body_admin_add_contact_admin_test_contacts_add_post": {
        "properties": {
          "contact_bipupu_id": {
            "type": "string",
            "title": "Contact Bipupu Id"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          }
        },
        "type": "object",
        "required": [
          "contact_bipupu_id"
        ],
        "title": "Body_admin_add_contact_admin_test_contacts_add_post"
      },
      "Body_admin_block_user_admin_test_contacts_block_post": {
        "properties": {
          "blocked_bipupu_id": {
            "type": "string",
            "title": "Blocked Bipupu Id"
          }
        },
        "type": "object",
        "required": [
          "blocked_bipupu_id"
        ],
        "title": "Body_admin_block_user_admin_test_contacts_block_post"
      },
      "Body_admin_login_admin_login_post": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_admin_login_admin_login_post"
      },
      "Body_admin_remove_contact_admin_test_contacts_remove_post": {
        "properties": {
          "contact_id": {
            "type": "integer",
            "title": "Contact Id"
          }
        },
        "type": "object",
        "required": [
          "contact_id"
        ],
        "title": "Body_admin_remove_contact_admin_test_contacts_remove_post"
      },
      "Body_admin_send_message_admin_test_chat_send_post": {
        "properties": {
          "receiver_id": {
            "type": "string",
            "title": "Receiver Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "message_type": {
            "type": "string",
            "title": "Message Type"
          }
        },
        "type": "object",
        "required": [
          "receiver_id",
          "content",
          "message_type"
        ],
        "title": "Body_admin_send_message_admin_test_chat_send_post"
      },
      "Body_admin_unblock_user_admin_test_contacts_unblock_post": {
        "properties": {
          "blocked_id": {
            "type": "integer",
            "title": "Blocked Id"
          }
        },
        "type": "object",
        "required": [
          "blocked_id"
        ],
        "title": "Body_admin_unblock_user_admin_test_contacts_unblock_post"
      },
      "Body_admin_update_avatar_admin_test_profile_avatar_post": {
        "properties": {
          "avatar_file": {
            "type": "string",
            "format": "binary",
            "title": "Avatar File"
          }
        },
        "type": "object",
        "required": [
          "avatar_file"
        ],
        "title": "Body_admin_update_avatar_admin_test_profile_avatar_post"
      },
      "Body_admin_update_profile_admin_test_profile_update_post": {
        "properties": {
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          }
        },
        "type": "object",
        "title": "Body_admin_update_profile_admin_test_profile_update_post"
      },
      "Body_create_poster_api_posters__post": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Display Order",
            "description": "显示顺序",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "image_file": {
            "type": "string",
            "format": "binary",
            "title": "Image File",
            "description": "海报图片"
          }
        },
        "type": "object",
        "required": [
          "title",
          "image_file"
        ],
        "title": "Body_create_poster_api_posters__post"
      },
      "Body_update_poster_image_api_posters__poster_id__image_put": {
        "properties": {
          "image_file": {
            "type": "string",
            "format": "binary",
            "title": "Image File",
            "description": "新海报图片"
          }
        },
        "type": "object",
        "required": [
          "image_file"
        ],
        "title": "Body_update_poster_image_api_posters__poster_id__image_put"
      },
      "Body_update_service_push_time_admin_service_accounts__service_id__push_time_post": {
        "properties": {
          "push_time": {
            "type": "string",
            "title": "Push Time"
          },
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "push_time"
        ],
        "title": "Body_update_service_push_time_admin_service_accounts__service_id__push_time_post"
      },
      "Body_upload_avatar_api_profile_avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_avatar_api_profile_avatar_post"
      },
      "Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_service_avatar_admin_service_accounts__service_id__avatar_post"
      },
      "ContactCreate": {
        "properties": {
          "contact_bipupu_id": {
            "type": "string",
            "title": "Contact Bipupu Id",
            "description": "联系人的 bipupu_id"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "备注名"
          }
        },
        "type": "object",
        "required": [
          "contact_bipupu_id"
        ],
        "title": "ContactCreate",
        "description": "添加联系人"
      },
      "ContactListResponse": {
        "properties": {
          "contacts": {
            "items": {
              "$ref": "#/components/schemas/ContactResponse"
            },
            "type": "array",
            "title": "Contacts"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "contacts",
          "total"
        ],
        "title": "ContactListResponse",
        "description": "联系人列表响应"
      },
      "ContactResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "contact_bipupu_id": {
            "type": "string",
            "title": "Contact Bipupu Id"
          },
          "contact_username": {
            "type": "string",
            "title": "Contact Username"
          },
          "contact_nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Nickname"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contact_bipupu_id",
          "contact_username",
          "contact_nickname",
          "alias",
          "created_at"
        ],
        "title": "ContactResponse",
        "description": "联系人响应"
      },
      "ContactUpdate": {
        "properties": {
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "备注名"
          }
        },
        "type": "object",
        "title": "ContactUpdate",
        "description": "更新联系人"
      },
      "CosmicProfile": {
        "properties": {
          "birthday": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthday",
            "description": "公历生日，格式 YYYY-MM-DD"
          },
          "zodiac": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zodiac",
            "description": "西方星座，例如 '白羊座'"
          },
          "age": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Age",
            "description": "年龄（整数岁）"
          },
          "bazi": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bazi",
            "description": "生辰八字字符串（可由用户提供或第三方服务计算）"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender",
            "description": "性别，例如 'male','female','other'，可选"
          },
          "mbti": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mbti",
            "description": "MBTI 类型，例如 'INTJ'"
          },
          "birth_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Time",
            "description": "出生时间，例如 '08:30'"
          },
          "birthplace": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birthplace",
            "description": "出生地，城市/经纬度等"
          }
        },
        "type": "object",
        "title": "CosmicProfile",
        "description": "结构化的宇宙信息（可在未来扩展）"
      },
      "FavoriteCreate": {
        "properties": {
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          }
        },
        "type": "object",
        "title": "FavoriteCreate"
      },
      "FavoriteListResponse": {
        "properties": {
          "favorites": {
            "items": {
              "$ref": "#/components/schemas/FavoriteResponse"
            },
            "type": "array",
            "title": "Favorites"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "favorites",
          "total",
          "page",
          "page_size"
        ],
        "title": "FavoriteListResponse"
      },
      "FavoriteResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "message_id": {
            "type": "integer",
            "title": "Message Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "message": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MessageResponse"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "message_id",
          "user_id",
          "note",
          "created_at"
        ],
        "title": "FavoriteResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "service": {
            "type": "string",
            "title": "Service"
          }
        },
        "type": "object",
        "required": [
          "status",
          "service"
        ],
        "title": "HealthResponse",
        "description": "健康检查响应"
      },
      "LiveResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "LiveResponse",
        "description": "存活检查响应"
      },
      "MessageCreate": {
        "properties": {
          "receiver_id": {
            "type": "string",
            "title": "Receiver Id",
            "description": "接收者的 bipupu_id"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "消息内容"
          },
          "message_type": {
            "type": "string",
            "title": "Message Type",
            "description": "消息类型：NORMAL, VOICE, SYSTEM",
            "default": "NORMAL"
          },
          "pattern": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern",
            "description": "json扩展字段"
          },
          "waveform": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Waveform",
            "description": "音频振幅包络数组，0-255整数"
          }
        },
        "type": "object",
        "required": [
          "receiver_id",
          "content"
        ],
        "title": "MessageCreate",
        "description": "创建消息 - BIPU机消息发送格式"
      },
      "MessageListResponse": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageResponse"
            },
            "type": "array",
            "title": "Messages"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "messages",
          "total",
          "page",
          "page_size"
        ],
        "title": "MessageListResponse",
        "description": "消息列表响应 - BIPU机消息分页查询"
      },
      "MessageResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "sender_bipupu_id": {
            "type": "string",
            "title": "Sender Bipupu Id"
          },
          "receiver_bipupu_id": {
            "type": "string",
            "title": "Receiver Bipupu Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "message_type": {
            "type": "string",
            "title": "Message Type"
          },
          "pattern": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern"
          },
          "waveform": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Waveform",
            "description": "音频振幅包络数组，0-255整数"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "sender_bipupu_id",
          "receiver_bipupu_id",
          "content",
          "message_type",
          "created_at"
        ],
        "title": "MessageResponse",
        "description": "消息响应 - BIPU机消息完整信息"
      },
      "PaginatedResponse_BlockedUserResponse_": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BlockedUserResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "pages": {
            "type": "integer",
            "title": "Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "size",
          "pages"
        ],
        "title": "PaginatedResponse[BlockedUserResponse]"
      },
      "PosterListResponse": {
        "properties": {
          "posters": {
            "items": {
              "$ref": "#/components/schemas/PosterResponse"
            },
            "type": "array",
            "title": "Posters"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "posters",
          "total",
          "page",
          "page_size"
        ],
        "title": "PosterListResponse",
        "description": "海报列表响应"
      },
      "PosterResponse": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Display Order",
            "description": "显示顺序，数字越小越靠前",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "title",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "PosterResponse",
        "description": "海报响应Schema"
      },
      "PosterUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "海报标题"
          },
          "link_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Link Url",
            "description": "点击跳转链接"
          },
          "display_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Order",
            "description": "显示顺序"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "是否激活"
          }
        },
        "type": "object",
        "title": "PosterUpdate",
        "description": "更新海报Schema"
      },
      "ReadyResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ReadyResponse",
        "description": "就绪检查响应"
      },
      "ServiceAccountList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ServiceAccountResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "ServiceAccountList"
      },
      "ServiceAccountResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at"
        ],
        "title": "ServiceAccountResponse"
      },
      "StatusResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "StatusResponse",
        "description": "通用状态响应"
      },
      "SubscriptionSettingsResponse": {
        "properties": {
          "push_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Push Time",
            "description": "推送时间，格式: HH:MM"
          },
          "is_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Enabled",
            "description": "是否启用推送",
            "default": true
          },
          "service_name": {
            "type": "string",
            "title": "Service Name"
          },
          "service_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service Description"
          },
          "subscribed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Subscribed At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "push_time_source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Push Time Source",
            "description": "推送时间来源: subscription(订阅设置), service_default(服务号默认), none(无)"
          }
        },
        "type": "object",
        "required": [
          "service_name",
          "service_description",
          "subscribed_at",
          "updated_at"
        ],
        "title": "SubscriptionSettingsResponse",
        "description": "订阅设置响应"
      },
      "SubscriptionSettingsUpdate": {
        "properties": {
          "push_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Push Time",
            "description": "推送时间，格式: HH:MM"
          },
          "is_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Enabled",
            "description": "是否启用推送",
            "default": true
          }
        },
        "type": "object",
        "title": "SubscriptionSettingsUpdate",
        "description": "更新订阅设置"
      },
      "TimezoneUpdate": {
        "properties": {
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "时区标识符，例如 'Asia/Shanghai', 'America/New_York', 'Europe/London'",
            "examples": [
              "Asia/Shanghai",
              "America/New_York",
              "Europe/London",
              "UTC"
            ]
          }
        },
        "type": "object",
        "required": [
          "timezone"
        ],
        "title": "TimezoneUpdate",
        "description": "时区更新"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "refresh_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in"
        ],
        "title": "Token",
        "description": "OAuth 2.0标准令牌响应模式"
      },
      "TokenRefresh": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "TokenRefresh",
        "description": "刷新令牌模式"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 6,
            "title": "Password"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserCreate",
        "description": "创建用户模式"
      },
      "UserLogin": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserLogin",
        "description": "用户登录模式"
      },
      "UserPasswordUpdate": {
        "properties": {
          "old_password": {
            "type": "string",
            "title": "Old Password"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 6,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "old_password",
          "new_password"
        ],
        "title": "UserPasswordUpdate",
        "description": "用户密码更新"
      },
      "UserResponse": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "bipupu_id": {
            "type": "string",
            "title": "Bipupu Id"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "cosmic_profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CosmicProfile"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "last_active": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Active",
            "description": "最后活跃时间"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "avatar_version": {
            "type": "integer",
            "title": "Avatar Version",
            "description": "头像版本号，用于缓存失效",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "username",
          "bipupu_id",
          "id",
          "created_at"
        ],
        "title": "UserResponse",
        "description": "用户响应模式"
      },
      "UserSubscriptionList": {
        "properties": {
          "subscriptions": {
            "items": {
              "$ref": "#/components/schemas/UserSubscriptionResponse"
            },
            "type": "array",
            "title": "Subscriptions"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "subscriptions",
          "total"
        ],
        "title": "UserSubscriptionList",
        "description": "用户订阅列表响应"
      },
      "UserSubscriptionResponse": {
        "properties": {
          "service": {
            "$ref": "#/components/schemas/ServiceAccountResponse"
          },
          "settings": {
            "$ref": "#/components/schemas/SubscriptionSettingsResponse"
          }
        },
        "type": "object",
        "required": [
          "service",
          "settings"
        ],
        "title": "UserSubscriptionResponse",
        "description": "用户订阅详情响应"
      },
      "UserUpdate": {
        "properties": {
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "cosmic_profile": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cosmic Profile"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "更新用户模式"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "tags": [
    {
      "name": "系统",
      "description": "系统健康检查、服务信息与API根路径"
    },
    {
      "name": "认证",
      "description": "用户注册、登录、令牌刷新、登出等认证相关接口"
    },
    {
      "name": "消息",
      "description": "即时消息发送、接收、收藏、删除等消息管理功能"
    },
    {
      "name": "联系人",
      "description": "联系人添加、查询、更新、删除等联系人管理功能"
    },
    {
      "name": "黑名单",
      "description": "用户拉黑、解除拉黑、黑名单查询功能"
    },
    {
      "name": "用户资料",
      "description": "用户个人信息、头像、密码、推送设置等资料管理"
    },
    {
      "name": "用户",
      "description": "用户公开信息查询，包括用户资料和头像获取"
    },
    {
      "name": "服务号",
      "description": "服务号列表、详情、订阅管理、推送设置等功能"
    },
    {
      "name": "订阅",
      "description": "用户订阅的服务号列表及订阅设置管理"
    },
    {
      "name": "管理后台",
      "description": "管理员后台管理界面，包括用户、消息、服务号管理"
    }
  ]
}